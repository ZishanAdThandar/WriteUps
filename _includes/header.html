<header>
  <h1 class="site-title">
    {{ site.title }}<span class="cursor"></span>
  </h1>

  <p class="site-tagline">
    {{ site.tagline }}
  </p>

  <div class="nav-container">
    <!-- Mobile Toggle -->
    <button class="mobile-nav-toggle" id="mobileNavToggle">
      <i class="fas fa-bars"></i> Menu
    </button>

    <!-- Navigation -->
    <nav class="main-nav" id="mainNav">
      <a href="/" class="nav-link">
        <i class="fas fa-home"></i> HOME
      </a>

      <!-- ===== CTF DROPDOWN ===== -->
      <div class="nav-dropdown" id="ctfDropdown">
        <button class="dropdown-btn" id="ctfBtn">
          <i class="fas fa-flag"></i> CTF
        </button>

        <div class="dropdown-content" id="ctfMenu">
          <a href="/posts/hackthebox">
            <i class="fas fa-cube"></i>
            <span>HackTheBox</span>
          </a>

          <a href="/posts/tryhackme">
            <i class="fas fa-tv"></i>
            <span>TryHackMe</span>
          </a>

          <a href="/posts/offsec">
            <i class="fas fa-shield-alt"></i>
            <span>OffSec</span>
          </a>

          <a href="/posts/vulnhub">
            <i class="fas fa-server"></i>
            <span>VulnHub</span>
          </a>
        </div>
      </div>
      <!-- ===== END DROPDOWN ===== -->

      <a href="/posts/bugbounty" class="nav-link">
        <i class="fas fa-bug"></i> BUG BOUNTY
      </a>

      <a href="/posts/blog" class="nav-link">
        <i class="fas fa-blog"></i> BLOG
      </a>

      <a href="{{ site.portfolio }}" class="nav-link">
        <i class="fas fa-briefcase"></i> PORTFOLIO
      </a>

      <a href="{{ site.main_site }}" class="nav-link">
        <i class="fas fa-globe"></i> WEBSITE
      </a>
    </nav>
  </div>

  <!-- ===== NAVIGATION SCRIPT ===== -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const mobileToggle = document.getElementById("mobileNavToggle");
      const mainNav = document.getElementById("mainNav");

      const ctfBtn = document.getElementById("ctfBtn");
      const ctfDropdown = document.getElementById("ctfDropdown");
      const ctfMenu = document.getElementById("ctfMenu");

      /* Mobile menu toggle */
      mobileToggle.addEventListener("click", () => {
        mainNav.classList.toggle("active");
        mobileToggle.innerHTML = mainNav.classList.contains("active")
          ? '<i class="fas fa-times"></i> Close'
          : '<i class="fas fa-bars"></i> Menu';
      });

      /* Dropdown open (desktop + mobile) */
      ctfBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();

        const rect = ctfBtn.getBoundingClientRect();

        /* Position dropdown as floating panel */
        ctfMenu.style.top = rect.bottom + 10 + "px";
        ctfMenu.style.left = rect.left + "px";

        ctfDropdown.classList.toggle("open");
      });

      /* Close dropdown on outside click */
      document.addEventListener("click", (e) => {
        if (!ctfDropdown.contains(e.target)) {
          ctfDropdown.classList.remove("open");
        }
      });

      /* Close dropdown on resize */
      window.addEventListener("resize", () => {
        ctfDropdown.classList.remove("open");
      });
    });
  </script>
</header>

