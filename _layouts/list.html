---
layout: default
---

<section class="list-page">
  <header class="list-header">
    <h1 class="list-title">{{ page.title }}</h1>
    {% if page.description %}
      <p class="list-desc">{{ page.description }}</p>
    {% endif %}
  </header>

  <div class="list-grid">

    {% assign base_path = page.dir | remove_first: "/" %}
    {% assign has_items = false %}

    {% for doc in site.collections['posts'].docs %}

      {% if doc.path contains base_path %}
        {% unless
          doc.path contains 'index.md' or
          doc.path contains 'README' or
          doc.path contains 'imaginaryctf'
        %}

          {% assign has_items = true %}
          <article class="list-item">
            <a href="{{ doc.url | relative_url }}">
              <h2>{{ doc.title | default: doc.name }}</h2>

              {% if doc.description %}
                <p>{{ doc.description | truncate: 150 }}</p>
              {% elsif doc.excerpt %}
                <p>{{ doc.excerpt | strip_html | truncate: 150 }}</p>
              {% endif %}

              <div class="list-meta">
                <span class="list-category">{{ page.title }}</span>
                {% if doc.date %}
                  <span class="list-date">
                    {{ doc.date | date: "%B %d, %Y" }}
                  </span>
                {% endif %}
              </div>
            </a>
          </article>

        {% endunless %}
      {% endif %}

    {% endfor %}

    {% unless has_items %}
      <article class="list-item">
        <h2>No content yet</h2>
        <p>This section will populate automatically when pages are added.</p>
      </article>
    {% endunless %}

  </div>
</section>

